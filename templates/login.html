<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    {% load staticfiles %}
    <link rel="stylesheet" href="{% static 'plugins/bootstrap/css/bootstrap.css' %}"/>
    <link rel="stylesheet" href="{% static 'css/account_styles.css' %}"/>
    <style>
        .login-button{
            background-color: #4b90ef;
            margin-top:20px;
        }
    </style>
</head>
<body class="bg-color">
<div class="register-band" style="height: 470px;">
    <div class="content-band">
        <form action="/login.html" method="POST" novalidate>
            {% csrf_token %}
            <div class="login-title">欢迎登陆</div>
            <div class="login-text">用户名</div>
            <div>
                <input type="text" class="form-control" name="username" placeholder="用户名">
            </div>
            <div class="login-text">密码</div>
            <div>
                <input type="password" class="form-control" name="password" placeholder="密码">
            </div>
            <div class="check-code-band">
                <input type="text" class="form-control" name="check_code" placeholder="验证码">
                <!--访问生成验证码的URL，触发check_code函数-->
                <img src="/check_code.html" onclick="changeImg(this);"/>
            </div>
            <div style="margin-top: 15px;"><input type="checkbox" name="one-month"/>一个月内免登陆</div>
            <div style="margin-top: 15px;color: red;">{{ result.msg }}</div>
            <div style="text-align: center;"><input type="submit" value="登陆" class="register-button login-button"/></div>
        </form>
    </div>
</div>
<script>
    function changeImg(ths) {
        // src里面加上？就会再发一次请求，验证码就会刷新一次
        ths.src = ths.src + '?';
    }
</script>
</body>
</html>